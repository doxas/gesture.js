function gestureJsCommon(){}var GJS;!function(){"use strict";function t(t,n,e,o){t.addEventListener("mousedown",n,!1),t.addEventListener("mouseup",e,!1),t.addEventListener("mousemove",o,!1),t.addEventListener("touchstart",n,!1),t.addEventListener("touchend",e,!1),t.addEventListener("touchmove",o,!1)}function n(t,n){var e;return t.changedTouches?(e=n?n:0,t.changedTouches[e]?{px:t.changedTouches[e].pageX,py:t.changedTouches[e].pageY}:null):null!=n&&n>0?null:{px:t.pageX,py:t.pageY}}function e(t,n,e,o){var r,s,u,i,p;return s=i=e-t,u=p=o-n,r=Math.sqrt(s*s+u*u),0!==r&&(i/=r,p/=r),{length:r,x:s,y:u,vx:i,vy:-p}}function o(t,n,e,o){return t*e+n*o}function r(t,n,e,o){return Math.sqrt(t*e+n*o)}function s(t){console.log("event listen is failed ["+t+"]")}function u(t){this.startX=0,this.startY=0,this.secondStartX=0,this.secondStartY=0,this.startLength=0,this.downCount=0,this.downFlg=!1,this.applyFlg=!1,this.callback=t}var i=50,p=.95,a=25,d=.75;gestureJsCommon.prototype.swipe=function(o,r){if(!o.addEventListener)return s("swipe"),!1;var p=new u(r);return t(o,function(t){var e=n(t);p.startX=e.px,p.startY=e.py,p.downCount=1,p.downFlg=!0,p.applyFlg=!1},function(t){p.downFlg=!1,p.applyFlg=!1},function(t){if(p.downFlg){++p.downCount;var o=n(t),r=e(p.startX,p.startY,o.px,o.py);(p.applyFlg||p.downCount>5&&r.length>i)&&(p.applyFlg=!0,p.callback())}}),!0},gestureJsCommon.prototype.gestureSwipeDotDiff=function(r,a,d,l,c){if(!r.addEventListener)return s(d),!1;var g=new u(a);return t(r,function(t){var e=n(t);g.startX=e.px,g.startY=e.py,g.downCount=1,g.downFlg=!0},function(t){g.downFlg=!1},function(t){if(g.downFlg){++g.downCount;var r=n(t),s=e(g.startX,g.startY,r.px,r.py);o(s.vx,s.vy,l,c)>p&&g.downCount>5&&s.length>i&&(g.downFlg=!1,g.callback())}}),!0},gestureJsCommon.prototype.swipeUp=function(t,n){return this.gestureSwipeDotDiff(t,n,"swipe up",0,1)},gestureJsCommon.prototype.swipeDown=function(t,n){return this.gestureSwipeDotDiff(t,n,"swipe down",0,-1)},gestureJsCommon.prototype.swipeLeft=function(t,n){return this.gestureSwipeDotDiff(t,n,"swipe left",-1,0)},gestureJsCommon.prototype.swipeRight=function(t,n){return this.gestureSwipeDotDiff(t,n,"swipe right",1,0)},gestureJsCommon.prototype.doubleSwipe=function(r,a){if(!r.addEventListener)return s("double swipe"),!1;var d=new u(a);return t(r,function(t){var e=n(t);d.downFlg||(d.startX=e.px,d.startY=e.py,d.secondStartX=-1,d.secondStartY=-1,d.downCount=1,d.downFlg=!0,d.applyFlg=!1)},function(t){d.downFlg=!1,d.applyFlg=!1},function(t){var r=n(t,0),s=n(t,1);if(d.downFlg&&null!=s){++d.downCount;var u=e(d.startX,d.startY,r.px,r.py);if(d.downCount>5&&u.length>i)if(d.secondStartX<0)d.secondStartX=s.px,d.secondStartY=s.py;else{var a=e(d.secondStartX,d.secondStartY,s.px,s.py);(d.applyFlg||o(u.vx,u.vy,a.vx,a.vy)>p)&&(d.applyFlg=!0,d.callback())}}}),!0},gestureJsCommon.prototype.gestureDoubleSwipeDotDiff=function(r,a,d,l,c){if(!r.addEventListener)return s(d),!1;var g=new u(a);return t(r,function(t){var e=n(t);g.downFlg||(g.startX=e.px,g.startY=e.py,g.secondStartX=-1,g.secondStartY=-1,g.downCount=1,g.downFlg=!0)},function(t){g.downFlg=!1},function(t){var r=n(t,0),s=n(t,1);if(g.downFlg&&null!=s){++g.downCount;var u=e(g.startX,g.startY,r.px,r.py);if(g.downCount>5&&u.length>i)if(g.secondStartX<0)g.secondStartX=s.px,g.secondStartY=s.py;else{var a=e(g.secondStartX,g.secondStartY,s.px,s.py);o(u.vx,u.vy,l,c)>p&&o(u.vx,u.vy,a.vx,a.vy)>p&&(g.downFlg=!1,g.callback())}}}),!0},gestureJsCommon.prototype.doubleSwipeUp=function(t,n){return this.gestureDoubleSwipeDotDiff(t,n,"double swipe up",0,1)},gestureJsCommon.prototype.doubleSwipeDown=function(t,n){return this.gestureDoubleSwipeDotDiff(t,n,"double swipe down",0,-1)},gestureJsCommon.prototype.doubleSwipeLeft=function(t,n){return this.gestureDoubleSwipeDotDiff(t,n,"double swipe left",-1,0)},gestureJsCommon.prototype.doubleSwipeRight=function(t,n){return this.gestureDoubleSwipeDotDiff(t,n,"double swipe right",1,0)},gestureJsCommon.prototype.pinch=function(r,i){if(!r.addEventListener)return s("pinch"),!1;var p=new u(i);return t(r,function(t){var e=n(t);p.downFlg||(p.startX=e.px,p.startY=e.py,p.secondStartX=-1,p.secondStartY=-1,p.downCount=1,p.downFlg=!0,p.applyFlg=!1)},function(t){p.downFlg=!1,p.applyFlg=!1},function(t){var r=n(t,0),s=n(t,1);if(p.downFlg&&null!=s){++p.downCount;var u=e(p.startX,p.startY,r.px,r.py);if(p.downCount>5&&u.length>a)if(p.secondStartX<0)p.secondStartX=s.px,p.secondStartY=s.py;else{var i=e(p.secondStartX,p.secondStartY,s.px,s.py);(p.applyFlg||o(u.vx,u.vy,i.vx,i.vy)<-d)&&(p.applyFlg=!0,p.callback())}}}),!0},gestureJsCommon.prototype.gesturePinch=function(i,p,l){if(!i.addEventListener)return s(l),!1;var c=new u(p);return t(i,function(t){var e=n(t);c.downFlg||(c.startX=e.px,c.startY=e.py,c.secondStartX=-1,c.secondStartY=-1,c.downCount=1,c.downFlg=!0,c.startLength=-1)},function(t){c.downFlg=!1},function(t){var s=n(t,0),u=n(t,1);if(c.downFlg&&null!=u){++c.downCount;var i=e(c.startX,c.startY,s.px,s.py);if(c.downCount>5&&i.length>a)if(c.secondStartX<0)c.secondStartX=u.px,c.secondStartY=u.py,c.startLength=r(c.startX,c.startY,u.px,u.py);else{var p=e(c.secondStartX,c.secondStartY,u.px,u.py),g=r(s.px,s.py,u.px,u.py),f="pinch in"===l?c.startLength<g:c.startLength>g;f&&o(i.vx,i.vy,p.vx,p.vy)<-d&&c.callback(),c.startLength=g}}}),!0},gestureJsCommon.prototype.pinchIn=function(t,n){return this.gesturePinch(t,n,"pinch in")},gestureJsCommon.prototype.pinchOut=function(t,n){return this.gesturePinch(t,n,"pinch out")}}(this),GJS=new gestureJsCommon;