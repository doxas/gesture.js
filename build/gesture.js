function gestureJsCommon(){}var GJS;!function(t){"use strict";function n(t,n,e,o){t.addEventListener("mousedown",n,!1),t.addEventListener("mouseup",e,!1),t.addEventListener("mousemove",o,!1),t.addEventListener("touchstart",n,!1),t.addEventListener("touchend",e,!1),t.addEventListener("touchmove",o,!1)}function e(t,n){var e;return t.changedTouches?(e=n?n:0,t.changedTouches[e]?{px:t.changedTouches[e].pageX,py:t.changedTouches[e].pageY}:null):null!=n&&n>0?null:{px:t.pageX,py:t.pageY}}function o(t,n,e,o){var r,a,s,l,i;return a=l=e-t,s=i=o-n,r=Math.sqrt(a*a+s*s),0!==r&&(l/=r,i/=r),{length:r,x:a,y:s,vx:l,vy:-i}}function r(t,n,e,o){return t*e+n*o}function a(t,n,e,o){return Math.sqrt(t*e+n*o)}function s(t){console.log("event listen is failed ["+t+"]")}function l(t,n,e){this.startX=0,this.startY=0,this.secondStartX=0,this.secondStartY=0,this.startLength=0,this.downCount=0,this.downFlg=!1,this.applyFlg=!1,this.startCallback=t,this.endCallback=n,this.moveCallback=e}var i=50,u=.95,p=25,c=.75,d=!0,f=20,g=10,w=5,v=!1;gestureJsCommon.prototype.setParam=function(t,n,e,o,r){null!=t&&(i=t),null!=n&&(u=n),null!=e&&(p=e),null!=o&&(c=o),null!=r&&(d=r)},gestureJsCommon.prototype.swipe=function(t,r,a,u){if(!t.addEventListener)return s("swipe"),!1;var p=new l(r,a,u);return n(t,function(t){if(d||!v){var n=e(t);p.startX=n.px,p.startY=n.py,p.downCount=1,p.downFlg=!0,p.applyFlg=!1,p.startCallback&&p.startCallback()}},function(t){(d||!v)&&(p.downFlg=!1,p.applyFlg=!1,d||(v=!1),p.endCallback&&p.endCallback())},function(t){if((d||!v)&&p.downFlg){++p.downCount;var n=e(t),r=o(p.startX,p.startY,n.px,n.py);(p.applyFlg||p.downCount>f&&r.length>i)&&(p.applyFlg=!0,d||(v=!0),p.moveCallback&&p.moveCallback())}}),!0},gestureJsCommon.prototype.gestureSwipeDotDiff=function(t,a,p,c,g,w,C){if(!t.addEventListener)return s(g),!1;var y=new l(a,p,c);return n(t,function(t){if(d||!v){var n=e(t);y.startX=n.px,y.startY=n.py,y.downCount=1,y.downFlg=!0,y.startCallback&&y.startCallback()}},function(t){(d||!v)&&(y.downFlg=!1,d||(v=!1),y.endCallback&&y.endCallback())},function(t){if((d||!v)&&y.downFlg){++y.downCount;var n=e(t),a=o(y.startX,y.startY,n.px,n.py);r(a.vx,a.vy,w,C)>u&&y.downCount>f&&a.length>i&&(y.downFlg=!1,d||(v=!0),y.moveCallback&&y.moveCallback())}}),!0},gestureJsCommon.prototype.swipeUp=function(t,n){return this.gestureSwipeDotDiff(t,n,"swipe up",0,1)},gestureJsCommon.prototype.swipeDown=function(t,n){return this.gestureSwipeDotDiff(t,n,"swipe down",0,-1)},gestureJsCommon.prototype.swipeLeft=function(t,n){return this.gestureSwipeDotDiff(t,n,"swipe left",-1,0)},gestureJsCommon.prototype.swipeRight=function(t,n){return this.gestureSwipeDotDiff(t,n,"swipe right",1,0)},gestureJsCommon.prototype.doubleSwipe=function(t,a,p,c){if(!t.addEventListener)return s("double swipe"),!1;var f=new l(a,p,c);return n(t,function(t){if(d||!v){var n=e(t);f.downFlg||(f.startX=n.px,f.startY=n.py,f.secondStartX=-1,f.secondStartY=-1,f.downCount=1,f.downFlg=!0,f.applyFlg=!1,f.startCallback&&f.startCallback())}},function(t){(d||!v)&&(f.downFlg=!1,f.applyFlg=!1,d||(v=!1),f.endCallback&&f.endCallback())},function(t){if(d||!v){var n=e(t,0),a=e(t,1);if(f.downFlg&&null!=a){++f.downCount;var s=o(f.startX,f.startY,n.px,n.py);if(f.downCount>g&&s.length>i)if(f.secondStartX<0)f.secondStartX=a.px,f.secondStartY=a.py;else{var l=o(f.secondStartX,f.secondStartY,a.px,a.py);(f.applyFlg||r(s.vx,s.vy,l.vx,l.vy)>u)&&(f.applyFlg=!0,d||(v=!0),f.moveCallback&&f.moveCallback())}}}}),!0},gestureJsCommon.prototype.gestureDoubleSwipeDotDiff=function(t,a,p,c,f,w,C){if(!t.addEventListener)return s(f),!1;var y=new l(a,p,c);return n(t,function(t){if(d||!v){var n=e(t);y.downFlg||(y.startX=n.px,y.startY=n.py,y.secondStartX=-1,y.secondStartY=-1,y.downCount=1,y.downFlg=!0,y.startCallback&&y.startCallback())}},function(t){(d||!v)&&(y.downFlg=!1,d||(v=!1),y.endCallback&&y.endCallback())},function(t){if(d||!v){var n=e(t,0),a=e(t,1);if(y.downFlg&&null!=a){++y.downCount;var s=o(y.startX,y.startY,n.px,n.py);if(y.downCount>g&&s.length>i)if(y.secondStartX<0)y.secondStartX=a.px,y.secondStartY=a.py;else{var l=o(y.secondStartX,y.secondStartY,a.px,a.py);r(s.vx,s.vy,w,C)>u&&r(s.vx,s.vy,l.vx,l.vy)>u&&(y.downFlg=!1,d||(v=!0),y.moveCallback&&y.moveCallback())}}}}),!0},gestureJsCommon.prototype.doubleSwipeUp=function(t,n){return this.gestureDoubleSwipeDotDiff(t,n,"double swipe up",0,1)},gestureJsCommon.prototype.doubleSwipeDown=function(t,n){return this.gestureDoubleSwipeDotDiff(t,n,"double swipe down",0,-1)},gestureJsCommon.prototype.doubleSwipeLeft=function(t,n){return this.gestureDoubleSwipeDotDiff(t,n,"double swipe left",-1,0)},gestureJsCommon.prototype.doubleSwipeRight=function(t,n){return this.gestureDoubleSwipeDotDiff(t,n,"double swipe right",1,0)},gestureJsCommon.prototype.pinch=function(t,a,i,u){if(!t.addEventListener)return s("pinch"),!1;var f=new l(a,i,u);return n(t,function(t){if(d||!v){var n=e(t);f.downFlg||(f.startX=n.px,f.startY=n.py,f.secondStartX=-1,f.secondStartY=-1,f.downCount=1,f.downFlg=!0,f.applyFlg=!1,f.startCallback&&f.startCallback())}},function(t){(d||!v)&&(f.downFlg=!1,f.applyFlg=!1,d||(v=!1),f.endCallback&&f.endCallback())},function(t){if(d||!v){var n=e(t,0),a=e(t,1);if(f.downFlg&&null!=a){++f.downCount;var s=o(f.startX,f.startY,n.px,n.py);if(f.downCount>w&&s.length>p)if(f.secondStartX<0)f.secondStartX=a.px,f.secondStartY=a.py;else{var l=o(f.secondStartX,f.secondStartY,a.px,a.py);(f.applyFlg||r(s.vx,s.vy,l.vx,l.vy)<-c)&&(f.applyFlg=!0,d||(v=!0),f.moveCallback&&f.moveCallback())}}}}),!0},gestureJsCommon.prototype.gesturePinch=function(t,i,u,f,g){if(!t.addEventListener)return s(g),!1;var C=new l(i,u,f);return n(t,function(t){if(d||!v){var n=e(t);C.downFlg||(C.startX=n.px,C.startY=n.py,C.secondStartX=-1,C.secondStartY=-1,C.downCount=1,C.downFlg=!0,C.startLength=-1,C.startCallback&&C.startCallback())}},function(t){(d||!v)&&(C.downFlg=!1,d||(v=!1),C.endCallback&&C.endCallback())},function(t){if(d||!v){var n=e(t,0),s=e(t,1);if(C.downFlg&&null!=s){++C.downCount;var l=o(C.startX,C.startY,n.px,n.py);if(C.downCount>w&&l.length>p)if(C.secondStartX<0)C.secondStartX=s.px,C.secondStartY=s.py,C.startLength=a(C.startX,C.startY,s.px,s.py);else{var i=o(C.secondStartX,C.secondStartY,s.px,s.py),u=a(n.px,n.py,s.px,s.py),f="pinch in"===g?C.startLength<u:C.startLength>u;f&&r(l.vx,l.vy,i.vx,i.vy)<-c&&(d||(v=!0),C.moveCallback&&C.moveCallback()),C.startLength=u}}}}),!0},gestureJsCommon.prototype.pinchIn=function(t,n){return this.gesturePinch(t,n,"pinch in")},gestureJsCommon.prototype.pinchOut=function(t,n){return this.gesturePinch(t,n,"pinch out")}}(this),GJS=new gestureJsCommon;