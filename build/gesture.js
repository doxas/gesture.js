function gestureJsCommon(){}var GJS;!function(t){"use strict";function n(t,n,e,o){t.addEventListener("mousedown",n,!1),t.addEventListener("mouseup",e,!1),t.addEventListener("mousemove",o,!1),t.addEventListener("touchstart",n,!1),t.addEventListener("touchend",e,!1),t.addEventListener("touchmove",o,!1)}function e(t,n){var e;return t.changedTouches?(e=n?n:0,t.changedTouches[e]?{px:t.changedTouches[e].pageX,py:t.changedTouches[e].pageY}:null):null!=n&&n>0?null:{px:t.pageX,py:t.pageY}}function o(t,n,e,o){var r,a,l,s,u;return a=s=e-t,l=u=o-n,r=Math.sqrt(a*a+l*l),0!==r&&(s/=r,u/=r),{length:r,x:a,y:l,vx:s,vy:-u}}function r(t,n,e,o){return t*e+n*o}function a(t,n,e,o){return Math.sqrt(t*e+n*o)}function l(t){console.log("event listen is failed ["+t+"]")}function s(t,n,e){this.startX=0,this.startY=0,this.secondStartX=0,this.secondStartY=0,this.startLength=0,this.downCount=0,this.downFlg=!1,this.applyFlg=!1,this.entryFlg=!1,this.startCallback=t,this.endCallback=n,this.moveCallback=e}var u=20,i=.95,p=10,c=.9,d=!0,g=6,f=4,w=2,v=1,y=50,C=!1;gestureJsCommon.prototype.setParam=function(t,n,e,o,r){null!=t&&(u=t),null!=n&&(i=n),null!=e&&(p=e),null!=o&&(c=o),null!=r&&(d=r)},gestureJsCommon.prototype.swipe=function(t,r,a,i){if(!t.addEventListener)return l("swipe"),!1;var p=new s(r,a,i);return n(t,function(t){if(d||!C){var n=e(t);p.startX=n.px,p.startY=n.py,p.downCount=1,p.downFlg=!0,p.applyFlg=!1,p.startCallback&&p.startCallback(t)}},function(t){(d||!C||p.entryFlg)&&(p.downFlg=!1,p.applyFlg=!1,d||(C=!1,p.entryFlg=!1),p.endCallback&&p.endCallback(t))},function(t){if(t.preventDefault(),null==t.changedTouches||null==t.changedTouches[1]){if(!d&&C&&!p.entryFlg)return void(p.downFlg=!1);if(p.downFlg){++p.downCount;var n=e(t),r=o(p.startX,p.startY,n.px,n.py);(p.applyFlg||p.downCount>g&&r.length>u)&&(p.applyFlg=!0,d||(C=!0,p.entryFlg=!0),p.moveCallback&&p.moveCallback(t))}}}),!0},gestureJsCommon.prototype.gestureSwipeDotDiff=function(t,a,p,c,f,w,h){if(!t.addEventListener)return l(f),!1;var F=new s(a,p,c);return n(t,function(t){if(d||!C){var n=e(t);F.startX=n.px,F.startY=n.py,F.downCount=1,F.downFlg=!0,F.startCallback&&F.startCallback(t)}},function(t){(d||!C||F.entryFlg)&&(F.downFlg=!1,d||(C=!1,F.entryFlg=!1),F.endCallback&&F.endCallback(t))},function(t){if(t.preventDefault(),(null==t.changedTouches||null==t.changedTouches[1])&&(d||!C)&&F.downFlg){++F.downCount;var n=e(t),a=o(F.startX,F.startY,n.px,n.py);F.downCount>g-v&&F.downCount<y&&r(a.vx,a.vy,w,h)>i&&a.length>u&&(F.downFlg=!1,d||(C=!0,F.entryFlg=!0),F.moveCallback&&F.moveCallback(t))}}),!0},gestureJsCommon.prototype.swipeUp=function(t,n,e,o){return this.gestureSwipeDotDiff(t,n,e,o,"swipe up",0,1)},gestureJsCommon.prototype.swipeDown=function(t,n,e,o){return this.gestureSwipeDotDiff(t,n,e,o,"swipe down",0,-1)},gestureJsCommon.prototype.swipeLeft=function(t,n,e,o){return this.gestureSwipeDotDiff(t,n,e,o,"swipe left",-1,0)},gestureJsCommon.prototype.swipeRight=function(t,n,e,o){return this.gestureSwipeDotDiff(t,n,e,o,"swipe right",1,0)},gestureJsCommon.prototype.doubleSwipe=function(t,a,p,c){if(!t.addEventListener)return l("double swipe"),!1;var g=new s(a,p,c);return n(t,function(t){if(d||!C){var n=e(t);g.downFlg||(g.startX=n.px,g.startY=n.py,g.secondStartX=-1,g.secondStartY=-1,g.downCount=1,g.downFlg=!0,g.applyFlg=!1,g.startCallback&&g.startCallback(t))}},function(t){(d||!C||g.entryFlg)&&(g.downFlg=!1,g.applyFlg=!1,d||(C=!1,g.entryFlg=!1),g.endCallback&&g.endCallback(t))},function(t){if(t.preventDefault(),!d&&C&&!g.entryFlg)return void(g.downFlg=!1);var n=e(t,0),a=e(t,1);if(g.downFlg&&null!=a){++g.downCount;var l=o(g.startX,g.startY,n.px,n.py);if(g.downCount>f&&l.length>u)if(g.secondStartX<0)g.secondStartX=a.px,g.secondStartY=a.py;else{var s=o(g.secondStartX,g.secondStartY,a.px,a.py);(g.applyFlg||r(l.vx,l.vy,s.vx,s.vy)>i)&&(g.applyFlg=!0,d||(C=!0,g.entryFlg=!0),g.moveCallback&&g.moveCallback(t))}}}),!0},gestureJsCommon.prototype.gestureDoubleSwipeDotDiff=function(t,a,p,c,g,w,h){if(!t.addEventListener)return l(g),!1;var F=new s(a,p,c);return n(t,function(t){if(d||!C){var n=e(t);F.downFlg||(F.startX=n.px,F.startY=n.py,F.secondStartX=-1,F.secondStartY=-1,F.downCount=1,F.downFlg=!0,F.startCallback&&F.startCallback(t))}},function(t){(d||!C||F.entryFlg)&&(F.downFlg=!1,d||(C=!1,F.entryFlg=!1),F.endCallback&&F.endCallback(t))},function(t){if(t.preventDefault(),d||!C){var n=e(t,0),a=e(t,1);if(F.downFlg&&null!=a){++F.downCount;var l=o(F.startX,F.startY,n.px,n.py);if(F.downCount>f-v&&F.downCount<y&&l.length>u)if(F.secondStartX<0)F.secondStartX=a.px,F.secondStartY=a.py;else{var s=o(F.secondStartX,F.secondStartY,a.px,a.py);r(l.vx,l.vy,w,h)>i&&r(l.vx,l.vy,s.vx,s.vy)>i&&(F.downFlg=!1,d||(C=!0,F.entryFlg=!0),F.moveCallback&&F.moveCallback(t))}}}}),!0},gestureJsCommon.prototype.doubleSwipeUp=function(t,n,e,o){return this.gestureDoubleSwipeDotDiff(t,n,e,o,"double swipe up",0,1)},gestureJsCommon.prototype.doubleSwipeDown=function(t,n,e,o){return this.gestureDoubleSwipeDotDiff(t,n,e,o,"double swipe down",0,-1)},gestureJsCommon.prototype.doubleSwipeLeft=function(t,n,e,o){return this.gestureDoubleSwipeDotDiff(t,n,e,o,"double swipe left",-1,0)},gestureJsCommon.prototype.doubleSwipeRight=function(t,n,e,o){return this.gestureDoubleSwipeDotDiff(t,n,e,o,"double swipe right",1,0)},gestureJsCommon.prototype.pinch=function(t,a,u,i){if(!t.addEventListener)return l("pinch"),!1;var g=new s(a,u,i);return n(t,function(t){if(d||!C){var n=e(t);g.downFlg||(g.startX=n.px,g.startY=n.py,g.secondStartX=-1,g.secondStartY=-1,g.downCount=1,g.downFlg=!0,g.applyFlg=!1,g.startCallback&&g.startCallback(t))}},function(t){(d||!C||g.entryFlg)&&(g.downFlg=!1,g.applyFlg=!1,d||(C=!1,g.entryFlg=!1),g.endCallback&&g.endCallback(t))},function(t){if(t.preventDefault(),!d&&C&&!g.entryFlg)return void(g.downFlg=!1);var n=e(t,0),a=e(t,1);if(g.downFlg&&null!=a){++g.downCount;var l=o(g.startX,g.startY,n.px,n.py);if(g.downCount>w&&l.length>p)if(g.secondStartX<0)g.secondStartX=a.px,g.secondStartY=a.py;else{var s=o(g.secondStartX,g.secondStartY,a.px,a.py);(g.applyFlg||r(l.vx,l.vy,s.vx,s.vy)<-c)&&(g.applyFlg=!0,d||(C=!0,g.entryFlg=!0),g.moveCallback&&g.moveCallback(t))}}}),!0},gestureJsCommon.prototype.gesturePinch=function(t,u,i,g,f){if(!t.addEventListener)return l(f),!1;var y=new s(u,i,g);return n(t,function(t){if(d||!C){var n=e(t);y.downFlg||(y.startX=n.px,y.startY=n.py,y.secondStartX=-1,y.secondStartY=-1,y.downCount=1,y.downFlg=!0,y.startLength=-1,y.startCallback&&y.startCallback(t))}},function(t){(d||!C||y.entryFlg)&&(y.downFlg=!1,d||(C=!1,y.entryFlg=!1),y.endCallback&&y.endCallback(t))},function(t){if(t.preventDefault(),d||!C){var n=e(t,0),l=e(t,1);if(y.downFlg&&null!=l){++y.downCount;var s=o(y.startX,y.startY,n.px,n.py);if(y.downCount>w-v&&s.length>p)if(y.secondStartX<0)y.secondStartX=l.px,y.secondStartY=l.py,y.startLength=a(y.startX,y.startY,l.px,l.py);else{var u=o(y.secondStartX,y.secondStartY,l.px,l.py),i=a(n.px,n.py,l.px,l.py),g="pinch in"===f?y.startLength<i:y.startLength>i;g&&r(s.vx,s.vy,u.vx,u.vy)<-c&&(d||(C=!0,y.entryFlg=!0),y.moveCallback&&y.moveCallback(t)),y.startLength=i}}}}),!0},gestureJsCommon.prototype.pinchIn=function(t,n,e,o){return this.gesturePinch(t,n,e,o,"pinch in")},gestureJsCommon.prototype.pinchOut=function(t,n,e,o){return this.gesturePinch(t,n,e,o,"pinch out")}}(this),GJS=new gestureJsCommon;