var GJS;!function(a){"use strict";function t(a,t){a.pageX=a.prevX=a.firstX=t.pageX,a.pageY=a.prevY=a.firstY=t.pageY}function e(a,t){a.pageX=a.prevX=a.firstX=null,a.pageY=a.prevY=a.firstY=null}function n(a,t){a.prevX=a.pageX,a.prevY=a.pageY,a.pageX=t.pageX,a.pageY=t.pageY}function p(a,t,e,n){var p,r,h,s,i;return r=s=e-a,h=i=n-t,p=Math.sqrt(r*r+h*h),0!==p&&(s/=p,i/=p),{length:p,x:r,y:h,vx:s,vy:-i}}function r(a,t,e,n){return a*e+t*n}function h(a,t,e,n){return Math.sqrt(a*e+t*n)}var s=10,i={},c=window.hasOwnProperty("ontouchstart");c?(i.start="touchstart",i.end="touchend",i.move="touchmove"):(i.start="mousedown",i.end="mouseup",i.move="mousemove");var o=function(){this.start=null,this.end=null,this.move=null,this.pinch=null,this.pinchIn=null,this.pinchOut=null,this.pinchRotate=null},u=function(){this.pageX=null,this.pageY=null,this.prevX=null,this.prevY=null,this.firstX=null,this.firstY=null,this.pinchPower=1};GJS=function(a){this.target=a,a.GJS=this,a.addEventListener(i.start,this.start,!1),a.addEventListener(i.end,this.end,!1),a.addEventListener(i.move,this.move,!1)},GJS.prototype.target=null,GJS.prototype.eventList=new o,GJS.prototype.callbackList=new o,GJS.prototype.param=[new u,new u],GJS.prototype.addEventListener=function(a,t){this.eventList[a]=!0,this.callbackList[a]=t},GJS.prototype.start=function(a){var e=this.GJS,n=[];a.changedTouches?(n[0]=a.changedTouches[0],t(e.param[0],n[0]),a.changedTouches.length>1&&(n[1]=a.changedTouches[1],t(e.param[1],n[1]))):(n[0]=a,t(e.param[0],n[0])),e.eventList.pinch&&e.callbackList.pinch(e)},GJS.prototype.end=function(a){var t=this.GJS,n=[];a.changedTouches?(n[0]=a.changedTouches[0],e(t.param[0],n[0]),a.changedTouches.length>1&&(n[1]=a.changedTouches[1],e(t.param[1],n[1]))):(n[0]=a,e(t.param[0],n[0]))},GJS.prototype.move=function(a){var t,e,i,c=this.GJS,o=[],u=!1;if(a.changedTouches?(o[0]=a.changedTouches[0],a.changedTouches.length>1&&(u=!0,o[1]=a.changedTouches[1])):o[0]=a,u){a.preventDefault(),n(c.param[0],o[0]),n(c.param[1],o[1]);var v=p(c.param[0].prevX,c.param[0].prevY,c.param[0].pageX,c.param[0].pageY),l=p(c.param[1].prevX,c.param[1].prevY,c.param[1].pageX,c.param[1].pageY),g=c.param[1].pageX-c.param[0].pageX,m=c.param[1].pageY-c.param[0].pageY,d=Math.sqrt(g*g+m*m),X=g,Y=m;0!==d&&(X/=d,Y/=d);var f=c.param[1].pageX-c.param[0].pageX,L=c.param[1].pageY-c.param[0].pageY,y=Math.sqrt(f*f+L*L),G=f,J=L;0!==y&&(G/=y,J/=y);var S=r(v.vx,v.vy,l.vx,l.vy),b=r(v.vx,v.vy,X,Y),T=r(l.vx,l.vy,X,Y),M=h(c.param[0].prevX,c.param[0].prevY,c.param[1].prevX,c.param[1].prevY),w=h(c.param[0].pageX,c.param[0].pageY,c.param[1].pageX,c.param[1].pageY),k=M-w;-.9>S&&(Math.abs(b)>.9&&Math.abs(T)>.9&&k>s&&(t=!0),Math.abs(b)>.9&&Math.abs(T)>.9&&-k>s&&(e=!0),t||e||Math.abs(b)<.2&&Math.abs(T)<.2&&v.length+l.length>s&&(i=!0)),t&&c.eventList.pinchIn&&c.callbackList.pinchIn(c),e&&c.eventList.pinchOut&&c.callbackList.pinchOut(c),i&&c.eventList.pinchRotate&&c.callbackList.pinchRotate(c),(t||e)&&c.eventList.pinch&&c.callbackList.pinch(c)}}}(this);